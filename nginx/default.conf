# Define an upstream server group named digismart
upstream digismart {
                server web:8000; # Define a backend server named web running on port 8000
                    }
# Define an NGINX server block listening on port 80
server {
        listen 80;
        # Configuration for requests to the root URL "/"
        location /{
                    proxy_pass http://digismart; # Proxy requests to the upstream server group digismart
                    proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; # Set X-Forwarded-For header with client's IP address
                    proxy_set_header Host $host; # Set Host header with original client's host
                  }
        # Configuration for requests to URLs starting with "/static/"
        location /static/{
                            alias /app/static/; # Serve static files from /app/static/ directory
                        } 
        location /media/{
                            alias /app/media/; # Serve media files from /app/media/ directory
                        }
        }